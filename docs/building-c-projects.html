<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2 Building C++ Projects | Miscellany</title>
  <meta name="description" content="2 Building C++ Projects | Miscellany" />
  <meta name="generator" content="bookdown 0.41 and GitBook 2.6.7" />

  <meta property="og:title" content="2 Building C++ Projects | Miscellany" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2 Building C++ Projects | Miscellany" />
  
  
  

<meta name="author" content="Nicholas Lyu" />


<meta name="date" content="2025-07-19" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="docker.html"/>
<link rel="next" href="understanding-smart-pointers-in-c-history-problems-solved-and-best-practices.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="docker.html"><a href="docker.html"><i class="fa fa-check"></i><b>1</b> Docker</a>
<ul>
<li class="chapter" data-level="" data-path="docker.html"><a href="docker.html#basic-commands"><i class="fa fa-check"></i>Basic commands</a></li>
<li class="chapter" data-level="" data-path="docker.html"><a href="docker.html#dockerfile"><i class="fa fa-check"></i>Dockerfile</a></li>
<li class="chapter" data-level="1.1" data-path="docker.html"><a href="docker.html#docker-compose"><i class="fa fa-check"></i><b>1.1</b> Docker compose</a></li>
<li class="chapter" data-level="" data-path="docker.html"><a href="docker.html#publishing-images"><i class="fa fa-check"></i>Publishing images</a></li>
<li class="chapter" data-level="" data-path="docker.html"><a href="docker.html#explanation-from-chatgpt"><i class="fa fa-check"></i>Explanation from ChatGPT</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="docker.html"><a href="docker.html#which-dockerfile-is-used-do-i-see-the-build-logs"><i class="fa fa-check"></i><b>1.1.1</b> 1. Which Dockerfile is used? Do I see the build logs?</a></li>
<li class="chapter" data-level="" data-path="docker.html"><a href="docker.html#what-happens-when-you-run-docker-compose-up"><i class="fa fa-check"></i>2. What happens when you run <code>docker compose up</code>?</a></li>
<li class="chapter" data-level="" data-path="docker.html"><a href="docker.html#what-happens-when-you-run-docker-compose-down"><i class="fa fa-check"></i>3. What happens when you run <code>docker compose down</code>?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="building-c-projects.html"><a href="building-c-projects.html"><i class="fa fa-check"></i><b>2</b> Building C++ Projects</a>
<ul>
<li class="chapter" data-level="" data-path="building-c-projects.html"><a href="building-c-projects.html#cmake"><i class="fa fa-check"></i>CMake</a>
<ul>
<li class="chapter" data-level="" data-path="building-c-projects.html"><a href="building-c-projects.html#installing-cmake"><i class="fa fa-check"></i>Installing CMake</a></li>
<li class="chapter" data-level="" data-path="building-c-projects.html"><a href="building-c-projects.html#scikit-build-core"><i class="fa fa-check"></i>Scikit-build-core</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="building-c-projects.html"><a href="building-c-projects.html#smart-pointers"><i class="fa fa-check"></i>Smart pointers</a>
<ul>
<li class="chapter" data-level="" data-path="building-c-projects.html"><a href="building-c-projects.html#smart-pointer-deep-research"><i class="fa fa-check"></i>Smart Pointer deep research</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="understanding-smart-pointers-in-c-history-problems-solved-and-best-practices.html"><a href="understanding-smart-pointers-in-c-history-problems-solved-and-best-practices.html"><i class="fa fa-check"></i><b>3</b> Understanding Smart Pointers in C++: History, Problems Solved, and Best Practices</a>
<ul>
<li class="chapter" data-level="3.1" data-path="understanding-smart-pointers-in-c-history-problems-solved-and-best-practices.html"><a href="understanding-smart-pointers-in-c-history-problems-solved-and-best-practices.html#background-origins-of-smart-pointers-in-c"><i class="fa fa-check"></i><b>3.1</b> Background: Origins of Smart Pointers in C++</a></li>
<li class="chapter" data-level="3.2" data-path="understanding-smart-pointers-in-c-history-problems-solved-and-best-practices.html"><a href="understanding-smart-pointers-in-c-history-problems-solved-and-best-practices.html#the-problems-with-raw-pointers-and-how-smart-pointers-fix-them"><i class="fa fa-check"></i><b>3.2</b> The Problems with Raw Pointers (and How Smart Pointers Fix Them)</a></li>
<li class="chapter" data-level="3.3" data-path="understanding-smart-pointers-in-c-history-problems-solved-and-best-practices.html"><a href="understanding-smart-pointers-in-c-history-problems-solved-and-best-practices.html#types-of-smart-pointers-in-modern-c"><i class="fa fa-check"></i><b>3.3</b> Types of Smart Pointers in Modern C++</a></li>
<li class="chapter" data-level="3.4" data-path="understanding-smart-pointers-in-c-history-problems-solved-and-best-practices.html"><a href="understanding-smart-pointers-in-c-history-problems-solved-and-best-practices.html#polymorphism-dynamic-dispatch-and-smart-pointers"><i class="fa fa-check"></i><b>3.4</b> Polymorphism, Dynamic Dispatch, and Smart Pointers</a></li>
<li class="chapter" data-level="3.5" data-path="understanding-smart-pointers-in-c-history-problems-solved-and-best-practices.html"><a href="understanding-smart-pointers-in-c-history-problems-solved-and-best-practices.html#modern-best-practices-for-using-smart-pointers"><i class="fa fa-check"></i><b>3.5</b> Modern Best Practices for Using Smart Pointers</a></li>
<li class="chapter" data-level="3.6" data-path="understanding-smart-pointers-in-c-history-problems-solved-and-best-practices.html"><a href="understanding-smart-pointers-in-c-history-problems-solved-and-best-practices.html#using-pointers-and-smart-pointers-in-function-interfaces"><i class="fa fa-check"></i><b>3.6</b> Using Pointers and Smart Pointers in Function Interfaces</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="understanding-smart-pointers-in-c-history-problems-solved-and-best-practices.html"><a href="understanding-smart-pointers-in-c-history-problems-solved-and-best-practices.html#passing-smart-pointers-to-functions-parameters"><i class="fa fa-check"></i><b>3.6.1</b> Passing Smart Pointers to Functions (Parameters)</a></li>
<li class="chapter" data-level="3.6.2" data-path="understanding-smart-pointers-in-c-history-problems-solved-and-best-practices.html"><a href="understanding-smart-pointers-in-c-history-problems-solved-and-best-practices.html#returning-pointers-or-smart-pointers-from-functions"><i class="fa fa-check"></i><b>3.6.2</b> Returning Pointers or Smart Pointers from Functions</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="understanding-smart-pointers-in-c-history-problems-solved-and-best-practices.html"><a href="understanding-smart-pointers-in-c-history-problems-solved-and-best-practices.html#factory-methods-modern-c-and-pybind"><i class="fa fa-check"></i>Factory methods, modern C++, and PyBind</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="factory-methods-modern-c-practices-and-pybind11-for-polymorphic-interfaces.html"><a href="factory-methods-modern-c-practices-and-pybind11-for-polymorphic-interfaces.html"><i class="fa fa-check"></i><b>4</b> Factory Methods, Modern C++ Practices, and Pybind11 for Polymorphic Interfaces</a>
<ul>
<li class="chapter" data-level="4.1" data-path="factory-methods-modern-c-practices-and-pybind11-for-polymorphic-interfaces.html"><a href="factory-methods-modern-c-practices-and-pybind11-for-polymorphic-interfaces.html#factory-methods-in-c-design"><i class="fa fa-check"></i><b>4.1</b> 1. Factory Methods in C++ Design</a></li>
<li class="chapter" data-level="4.2" data-path="factory-methods-modern-c-practices-and-pybind11-for-polymorphic-interfaces.html"><a href="factory-methods-modern-c-practices-and-pybind11-for-polymorphic-interfaces.html#modern-c-tools-and-practices-for-safe-performant-code"><i class="fa fa-check"></i><b>4.2</b> 2. Modern C++ Tools and Practices for Safe, Performant Code</a></li>
<li class="chapter" data-level="4.3" data-path="factory-methods-modern-c-practices-and-pybind11-for-polymorphic-interfaces.html"><a href="factory-methods-modern-c-practices-and-pybind11-for-polymorphic-interfaces.html#best-practices-for-pybind11-with-polymorphic-c-interfaces"><i class="fa fa-check"></i><b>4.3</b> 3. Best Practices for Pybind11 with Polymorphic C++ Interfaces</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="factory-methods-modern-c-practices-and-pybind11-for-polymorphic-interfaces.html"><a href="factory-methods-modern-c-practices-and-pybind11-for-polymorphic-interfaces.html#exposing-c-classes-and-inheritance-to-python"><i class="fa fa-check"></i><b>4.3.1</b> <strong>Exposing C++ Classes and Inheritance to Python</strong></a></li>
<li class="chapter" data-level="4.3.2" data-path="factory-methods-modern-c-practices-and-pybind11-for-polymorphic-interfaces.html"><a href="factory-methods-modern-c-practices-and-pybind11-for-polymorphic-interfaces.html#memory-management-and-ownership-between-c-and-python"><i class="fa fa-check"></i><b>4.3.2</b> <strong>Memory Management and Ownership between C++ and Python</strong></a></li>
<li class="chapter" data-level="4.3.3" data-path="factory-methods-modern-c-practices-and-pybind11-for-polymorphic-interfaces.html"><a href="factory-methods-modern-c-practices-and-pybind11-for-polymorphic-interfaces.html#allowing-python-to-override-c-virtual-functions-trampoline-classes"><i class="fa fa-check"></i><b>4.3.3</b> <strong>Allowing Python to Override C++ Virtual Functions (Trampoline Classes)</strong></a></li>
<li class="chapter" data-level="4.3.4" data-path="factory-methods-modern-c-practices-and-pybind11-for-polymorphic-interfaces.html"><a href="factory-methods-modern-c-practices-and-pybind11-for-polymorphic-interfaces.html#end-to-end-example-and-best-practices-summary"><i class="fa fa-check"></i><b>4.3.4</b> <strong>End-to-End Example and Best Practices Summary</strong></a></li>
</ul></li>
<li class="chapter" data-level="" data-path="factory-methods-modern-c-practices-and-pybind11-for-polymorphic-interfaces.html"><a href="factory-methods-modern-c-practices-and-pybind11-for-polymorphic-interfaces.html#c-history"><i class="fa fa-check"></i>C++ history</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="bibliography.html"><a href="bibliography.html"><i class="fa fa-check"></i>Bibliography</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Miscellany</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="building-c-projects" class="section level1 hasAnchor" number="2">
<h1><span class="header-section-number">2</span> Building C++ Projects<a href="building-c-projects.html#building-c-projects" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Important components:</p>
<ol style="list-style-type: decimal">
<li>CMake <span class="citation">(<a href="#ref-cmake"><strong>cmake?</strong></a>)</span>: systemic orchestration of C++ build processes.</li>
<li></li>
</ol>
<div id="cmake" class="section level2 unnumbered hasAnchor">
<h2>CMake<a href="building-c-projects.html#cmake" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>See <a href="https://cmake.org/cmake/help/latest/guide/tutorial/index.html">tutorial</a> for comprehensive guide.</p>
<ul>
<li>CMake consumes <code>CMakeLists.txt</code> in the source tree. Outputs <code>Makefile</code> (or equivalents) for subsequent building.</li>
<li>Typical practice: create <code>build</code> directory, populate with <code>cmake</code> outputs, and run build.</li>
<li>It supports hierarchal specification and multiple build targets.</li>
</ul>
<div id="installing-cmake" class="section level3 unnumbered hasAnchor">
<h3>Installing CMake<a href="building-c-projects.html#installing-cmake" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Installing newest version of cmake: find latest version <a href="https://cmake.org/download/">here</a>, specify version and build (e.g. <code>4.0.3</code> is as below):</p>
<pre><code>version=4.0
build=3
## don&#39;t modify from here
wget https://cmake.org/files/v$version/cmake-$version.$build.tar.gz
tar -xzvf cmake-$version.$build.tar.gz
cd cmake-$version.$build/

./bootstrap
make -j$(nproc)
sudo make install</code></pre>
<p>This should have installed cmake to <code>/usr/local/bin</code>. If this is this not in system path (e.g. <code>cmake</code> is not found), run</p>
<pre><code>echo &#39;export PATH=/usr/local/bin:$PATH&#39; &gt;&gt; ~/.bashrc
source ~/.bashrc</code></pre>
</div>
<div id="scikit-build-core" class="section level3 unnumbered hasAnchor">
<h3>Scikit-build-core<a href="building-c-projects.html#scikit-build-core" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><a href="https://scikit-build-core.readthedocs.io/en/latest/">Scikit-build-core</a> is a library for building Python packages from CMake source code.</p>
<ol style="list-style-type: decimal">
<li>It consumes a <code>pyproject.toml</code> file, standard for python packaging.</li>
<li>Running <code>pip install .</code> installs the python package.</li>
</ol>
<p>It invokes build backends (e.g. CMake) under the hood to build the package, replacing the need for complicated <code>setup.py</code>.</p>
</div>
</div>
<div id="smart-pointers" class="section level2 unnumbered hasAnchor">
<h2>Smart pointers<a href="building-c-projects.html#smart-pointers" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Great resources:</p>
<ol style="list-style-type: decimal">
<li>David Olsen’s <a href="https://www.youtube.com/watch?v=YokY6HzLkXs">talk, CppCon 2022</a></li>
<li>Mike Shah’s <a href="https://www.youtube.com/playlist?list=PLvv0ScY6vfd8j-tlhYVPYgiIyXduu6m-L">modern C++ series</a>.</li>
</ol>
<div id="smart-pointer-deep-research" class="section level3 unnumbered hasAnchor">
<h3>Smart Pointer deep research<a href="building-c-projects.html#smart-pointer-deep-research" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Thanks! I’ll put together a detailed technical guide on modern C++ smart pointers aimed at an intermediate developer. It will cover how and why they came into use, the problems they solve, how to use them effectively in polymorphic contexts and function interfaces (including <code>const</code> and reference qualifiers), and best practices in modern C++.</p>
<p>I’ll let you know when it’s ready.</p>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="docker.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="understanding-smart-pointers-in-c-history-problems-solved-and-best-practices.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
